import{e as m,r as n,j as e,L as _,c as N,Q as q,a0 as M,T as U,I as A}from"./index-BISNuQBy.js";import{B as i,C as r,a as x}from"./Badge-MXDmpC9W.js";import{A as D}from"./activity-C0-lGaSi.js";import{Z as I}from"./zap-CaVMuy_d.js";import{C as Z}from"./circle-check-Ccar7Fwt.js";import{A as L}from"./index-F1_Y89Td.js";import{m as j}from"./proxy-Dlsmb6mj.js";import{L as K,H as B}from"./list-BtdUrKTu.js";import{C as Q}from"./calendar-DiW7YcPw.js";import{f as o}from"./format-WFOWXoZv.js";import{a as g}from"./addDays-Ckt9dOfa.js";import{a as E}from"./addMonths-CbEUZ48L.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=m("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=m("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=m("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=m("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=m("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=m("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=m("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=m("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),J=t=>t>80?"text-emerald-500 bg-emerald-500/10":t>50?"text-amber-500 bg-amber-500/10":"text-red-500 bg-red-500/10",ee=t=>{let a=0;t.health<30&&(a+=40),t.status==="maintenance"&&(a+=20),t.conflicts&&t.conflicts.length>0&&(a+=40);const f=new Date(t.nextMaintenance),y=new Date;return Math.ceil((f.getTime()-y.getTime())/(1e3*60*60*24))<7&&(a+=30),Math.min(a,100)},v=["uCT 510","uCT 520","uCT 528","uCT 530","uCT 550","uCT 710","uCT 760","uCT 780","uCT 960+","uCT Atlas","uCT Insight","uX 800","uCT 521","uCT 525","uCT 538"],R=t=>{const a=new Date;return[{id:`b1-${t}`,projectId:"p1",projectName:"Mars Explorer",startDate:o(g(a,2),"yyyy-MM-dd"),endDate:o(g(a,5),"yyyy-MM-dd"),reservedBy:"user-1"},{id:`b2-${t}`,projectId:"p2",projectName:"Quantum Link",startDate:o(g(a,4),"yyyy-MM-dd"),endDate:o(g(a,8),"yyyy-MM-dd"),reservedBy:"user-2"}]},h=Array.from({length:16}).map((t,a)=>({id:`bay-${a+1}`,name:`Bay ${String(a+1).padStart(2,"0")}`,size:["S","M","L"][a%3],status:["available","occupied","maintenance"][a%10===0?2:a%3===0?0:1],currentProjectId:a%3===0?void 0:`proj-${a%4+1}`,currentProjectName:a%3===0?void 0:["Project Apollo","Deep Space","Lunar Base","Solar Array"][a%4],health:40+Math.random()*60,lastMaintenance:o(E(new Date,-2),"yyyy-MM-dd"),nextMaintenance:o(g(new Date,a%5===0?3:15),"yyyy-MM-dd"),bookings:R(`bay-${a}`),conflicts:a%7===0?[`b1-bay-${a}`,`b2-bay-${a}`]:[]})),b=Array.from({length:30}).map((t,a)=>({id:`mach-${a+1}`,name:`${v[a%v.length]} #${String(Math.floor(a/v.length)+1)}`,model:v[a%v.length],health:20+Math.random()*80,status:["available","occupied","maintenance"][a%15===0?2:a%4===0?0:1],currentProjectId:a%4===0?void 0:`proj-${a%4+1}`,currentProjectName:a%4===0?void 0:["Tesla Bot","Neural Link","Starship","Optimus"][a%4],lastMaintenance:o(E(new Date,-1),"yyyy-MM-dd"),nextMaintenance:o(g(new Date,a%8===0?2:25),"yyyy-MM-dd"),bookings:R(`mach-${a}`),conflicts:a%10===0?[`b1-mach-${a}`,`b2-mach-${a}`]:[]})),he=()=>{const[t,a]=n.useState("monitor"),[f,y]=n.useState("visual"),[c,$]=n.useState("bay"),[k,V]=n.useState(""),[d,w]=n.useState(null),S=n.useMemo(()=>(c==="bay"?h:b).filter(l=>{var p;return l.name.toLowerCase().includes(k.toLowerCase())||(((p=l.currentProjectName)==null?void 0:p.toLowerCase())||"").includes(k.toLowerCase())}),[c,k]),T=n.useMemo(()=>[...h,...b].map(l=>({...l,riskScore:ee(l)})).filter(l=>l.riskScore>50).sort((l,p)=>p.riskScore-l.riskScore),[]),z=n.useMemo(()=>{const s=h.length+b.length,l=[...h,...b].filter(u=>u.health<30).length,p=[...h,...b].filter(u=>u.status==="maintenance").length,O=[...h,...b].filter(u=>u.conflicts&&u.conflicts.length>0).length;return{total:s,lowHealth:l,maintenanceCount:p,conflictCount:O}},[]);return e.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(D,{className:"text-blue-600",size:32}),"物理资源智能管控中心"]}),e.jsx("p",{className:"text-slate-500 mt-1",children:"AI 驱动的 Bay 位分配、机器健康监控与冲突预警系统"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-xl flex w-full lg:w-auto overflow-x-auto shrink-0",children:[e.jsxs("button",{onClick:()=>a("monitor"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${t==="monitor"?"bg-white dark:bg-slate-700 shadow-sm text-blue-600":"text-slate-500"}`,children:[e.jsx(_,{size:18})," 实时监控"]}),e.jsxs("button",{onClick:()=>a("risk"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${t==="risk"?"bg-white dark:bg-slate-700 shadow-sm text-red-600 font-black":"text-slate-500"}`,children:[e.jsx(N,{size:18})," 风险预警",z.conflictCount>0&&e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),e.jsxs("button",{onClick:()=>a("maintenance"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${t==="maintenance"?"bg-white dark:bg-slate-700 shadow-sm text-amber-600":"text-slate-500"}`,children:[e.jsx(H,{size:18})," 维护保养"]})]}),e.jsx(i,{variant:"primary",icon:I,className:"hidden sm:flex",children:"一键智能排期"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(r,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"资源健康度 (平均)"}),e.jsx(D,{size:18,className:"text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold",children:"84%"}),e.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:"84%"}})})]}),e.jsxs(r,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"占用冲突"}),e.jsx(N,{size:18,className:"text-red-500"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[z.conflictCount," 项"]}),e.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium italic",children:"涉及 4 个重点项目"})]}),e.jsxs(r,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-amber-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"近期维护"}),e.jsx(H,{size:18,className:"text-amber-500"})]}),e.jsxs("div",{className:"text-2xl font-bold font-mono",children:[z.maintenanceCount," 台"]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"未来 7 天内需保养"})]}),e.jsxs(r,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-emerald-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 text-emerald-600",children:[e.jsx("span",{className:"text-sm font-medium",children:"推荐可用"}),e.jsx(Z,{size:18})]}),e.jsx("div",{className:"text-2xl font-bold",children:"12 份建议"}),e.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:"系统已找到最优替换方案"})]})]}),e.jsxs(L,{mode:"wait",children:[t==="monitor"&&e.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:e.jsxs(r,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>$("bay"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${c==="bay"?"bg-white dark:bg-slate-700 shadow-sm text-blue-600":"text-slate-500"}`,children:"Bay 实验室"}),e.jsx("button",{onClick:()=>$("machine"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${c==="machine"?"bg-white dark:bg-slate-700 shadow-sm text-blue-600":"text-slate-500"}`,children:"高价值机器"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"搜索资源或项目...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-blue-500 outline-none",value:k,onChange:s=>V(s.target.value)})]}),e.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden",children:[e.jsx("button",{onClick:()=>y("visual"),className:`p-2 ${f==="visual"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-500"}`,children:e.jsx(F,{size:18})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 ${f==="list"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-500"}`,children:e.jsx(K,{size:18})})]})]})]}),f==="visual"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-4",children:S.map(s=>e.jsxs(j.div,{layout:!0,onClick:()=>w(s),className:`relative p-4 rounded-2xl border transition-all cursor-pointer group ${s.status==="occupied"?"bg-blue-50/30 border-blue-100 dark:bg-blue-900/10 dark:border-blue-900/50":s.status==="maintenance"?"bg-amber-50/30 border-amber-100 dark:bg-amber-900/10 dark:border-amber-900/50":"bg-slate-50/30 border-slate-100 dark:bg-slate-800/50 dark:border-slate-700"} hover:shadow-lg hover:scale-[1.02]`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:`p-2 rounded-xl ${s.status==="available"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:c==="bay"?e.jsx(M,{size:18}):e.jsx(C,{size:18})}),e.jsxs("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${s.health<40?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:[Math.round(s.health),"% 健康"]})]}),e.jsx("div",{className:"text-sm font-extrabold truncate",children:s.name}),e.jsx("div",{className:"text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-tighter",children:c==="bay"?`SIZE: ${s.size}`:`MOD: ${s.model}`}),e.jsx("div",{className:"mt-4",children:s.currentProjectName?e.jsxs("div",{className:"p-2 rounded-lg bg-white/60 dark:bg-slate-800/60 border border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:"使用中"}),e.jsx("div",{className:"text-[11px] font-bold truncate text-blue-600",children:s.currentProjectName})]}):e.jsx("div",{className:`text-[10px] font-bold py-1 px-2 rounded-full w-fit ${s.status==="maintenance"?"bg-amber-100 text-amber-600":"bg-emerald-100 text-emerald-600"}`,children:s.status==="maintenance"?"维护中":"可预约"})}),s.conflicts&&s.conflicts.length>0&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg ring-2 ring-white animate-bounce",children:e.jsx(N,{size:12})})]},s.id))}):e.jsx("div",{className:"border border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-400 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"资源名称"}),e.jsx("th",{className:"px-6 py-4",children:"健康度"}),e.jsx("th",{className:"px-6 py-4",children:"状态"}),e.jsx("th",{className:"px-6 py-4",children:"归属/冲突"}),e.jsx("th",{className:"px-6 py-4",children:"下次维护"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:S.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50/20 dark:hover:bg-blue-900/5 transition-colors group cursor-pointer",onClick:()=>w(s),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg group-hover:text-blue-500",children:c==="bay"?e.jsx(M,{size:18}):e.jsx(C,{size:18})}),e.jsx("span",{className:"font-bold",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 w-16 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${s.health>70?"bg-emerald-500":s.health>40?"bg-amber-500":"bg-red-500"}`,style:{width:`${s.health}%`}})}),e.jsxs("span",{className:"text-xs font-mono",children:[Math.round(s.health),"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(x,{variant:s.status==="available"?"success":s.status==="occupied"?"primary":"warning",children:s.status==="available"?"可用":s.status==="occupied"?"占用":"维护"})}),e.jsx("td",{className:"px-6 py-4",children:s.conflicts&&s.conflicts.length>0?e.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 font-bold text-xs",children:[e.jsx(N,{size:14})," 预定冲突"]}):s.currentProjectName?e.jsx("span",{className:"text-sm font-medium",children:s.currentProjectName}):e.jsx("span",{className:"text-xs text-slate-300 italic",children:"空闲"})}),e.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500",children:s.nextMaintenance})]},s.id))})]})})]})},"monitor"),t==="risk"&&e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs(r,{className:"p-6 lg:col-span-1 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4",children:"风险分级过滤"}),e.jsx("div",{className:"space-y-2",children:[{label:"极高风险",count:2,color:"bg-red-500",active:!0},{label:"中高风险",count:5,color:"bg-orange-500",active:!1},{label:"一般风险",count:8,color:"bg-amber-500",active:!1},{label:"潜在风险",count:12,color:"bg-blue-500",active:!1}].map(s=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all ${s.active?"bg-slate-50 border-blue-200 ring-1 ring-blue-100":"border-transparent hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.color}`}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:s.label})]}),e.jsx("span",{className:"text-xs font-mono text-slate-400",children:s.count})]},s.label))})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[e.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4",children:"智能诊断报告"}),e.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-2xl border border-blue-100",children:[e.jsxs("p",{className:"text-xs text-blue-700 leading-relaxed font-medium",children:["检测到 ",e.jsx("span",{className:"font-black",children:"Bay 04"})," 与 ",e.jsx("span",{className:"font-black",children:"Bay 07"})," 存在长期占用冲突，建议将 ",e.jsx("span",{className:"underline italic",children:"Project Apollo"})," 的部分测试迁移至研发二号楼空置区域。"]}),e.jsx(i,{variant:"ghost",size:"sm",className:"mt-3 text-blue-600 font-black p-0 h-auto hover:bg-transparent",children:"生成调优方案库 →"})]})]})]}),e.jsxs(r,{className:"p-6 lg:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(N,{size:24,className:"text-red-500"}),"关键冲突与风险清单"]}),e.jsxs(x,{variant:"outline",className:"text-red-500 border-red-200",children:["待处理: ",T.length]})]}),e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-hide",children:T.map(s=>{var l;return e.jsxs("div",{className:"group p-5 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-3xl hover:shadow-xl hover:border-red-200 transition-all flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"shrink-0 w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-2xl flex flex-col items-center justify-center border border-red-200",children:[e.jsx("span",{className:"text-[10px] font-black text-red-600 line-height-1",children:"SCORE"}),e.jsx("span",{className:"text-lg font-black text-red-700",children:s.riskScore})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-black text-slate-900 dark:text-slate-100",children:s.name}),e.jsx(x,{variant:"neutral",size:"sm",className:"text-[10px]",children:s.model||s.size})]}),e.jsxs("div",{className:"text-xs text-slate-400 mt-0.5 font-medium",children:["当前状态: ",e.jsx("span",{className:"text-blue-500",children:s.status})," · 最后维护: ",s.lastMaintenance]})]})]}),e.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(i,{variant:"ghost",size:"sm",className:"p-2",children:e.jsx(P,{size:16})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-red-50/30 dark:bg-red-900/5 rounded-2xl border border-red-50 dark:border-red-900/10",children:[e.jsx("div",{className:"text-[10px] uppercase font-black text-red-400 mb-1",children:"预定冲突"}),e.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 truncate",children:(l=s.conflicts)!=null&&l.length?`${s.conflicts.length} 个重叠预定`:"暂无显著冲突"})]}),e.jsxs("div",{className:"p-3 bg-amber-50/30 dark:bg-amber-900/5 rounded-2xl border border-amber-50 dark:border-amber-900/10",children:[e.jsx("div",{className:"text-[10px] uppercase font-black text-amber-400 mb-1",children:"健康警报"}),e.jsxs("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:["健康度 ",Math.round(s.health),"% ",s.health<40?"· 建议停机检修":""]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",size:"sm",className:"flex-1 bg-white text-[11px] h-9",children:"智能迁移模拟"}),e.jsx(i,{variant:"primary",size:"sm",className:"flex-1 bg-red-600 border-none text-[11px] h-9",children:"紧急联系 PM"})]})]},s.id)})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(r,{className:"p-6 bg-gradient-to-br from-slate-900 to-indigo-900 text-white border-none shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),e.jsxs("h4",{className:"font-black text-lg mb-4 flex items-center gap-2",children:[e.jsx(I,{size:20,className:"text-yellow-400 fill-current"}),"AI 自动调优引擎"]}),e.jsx("p",{className:"text-sm text-slate-300 mb-6 leading-relaxed italic",children:'"基于当前项目优先级（Priority Score），我为您找到了 2 个可调用的冗余资源。"'}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-[10px] font-black text-indigo-300 uppercase",children:"策略 A"}),e.jsx(x,{variant:"success",size:"sm",className:"bg-emerald-500/20 text-emerald-300 border-none h-4 text-[9px]",children:"建议采纳"})]}),e.jsx("div",{className:"text-xs font-bold leading-relaxed transition-all hover:text-blue-300 cursor-pointer",children:"将 [uCT 510 #2] 的维护时间提前 2 天，可完全释放 [Project Mars] 的上电窗口。"})]}),e.jsx(i,{className:"w-full bg-white text-indigo-950 border-none font-black hover:bg-slate-100 mt-4 rounded-xl py-5",children:"执行自动化调优"})]})]}),e.jsxs(r,{className:"p-6",children:[e.jsxs("h4",{className:"font-bold mb-6 flex items-center gap-2 underline decoration-blue-500/30 underline-offset-4",children:[e.jsx(U,{size:18,className:"text-blue-500"}),"资源负载预测 (30D)"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-end gap-1.5 h-32",children:[30,45,85,95,70,50,40,35,60,90,80,55].map((s,l)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"relative w-full h-full flex items-end",children:e.jsx("div",{className:`w-full rounded-t-lg transition-all duration-700 ${s>=90?"bg-red-500":s>=70?"bg-amber-500":"bg-blue-400"} group-hover:scale-y-110 group-hover:brightness-110`,style:{height:`${s}%`}})}),e.jsxs("span",{className:"text-[8px] font-bold text-slate-400",children:["W",l+1]})]},l))}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600 dark:text-slate-400",children:[e.jsx(A,{size:14,className:"text-blue-500"}),"W4 预测负载峰值 95%"]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"受 [大里程碑交付] 影响，建议提前锁定备用物理机。"})]})]})]})]})]})},"risk"),t==="maintenance"&&e.jsx(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(r,{className:"p-6 lg:col-span-3 bg-white dark:bg-slate-800 border-none shadow-sm flex flex-wrap items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-amber-100 text-amber-600 rounded-2xl",children:e.jsx(X,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black",children:"维护与资产生命周期"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:["当前共有 ",e.jsx("span",{className:"text-amber-600 font-bold",children:"6"})," 台设备处于待保养状态"]})]})]}),e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-1",children:"本月完成度"}),e.jsx("div",{className:"text-2xl font-black text-slate-900 dark:text-slate-100",children:"92%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-1",children:"备件库存"}),e.jsx("div",{className:"text-2xl font-black text-emerald-500",children:"充足"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-1",children:"平均停机时长"}),e.jsx("div",{className:"text-2xl font-black text-blue-500",children:"4.2h"})]}),e.jsx(i,{variant:"primary",icon:W,className:"bg-amber-500 border-none",children:"查看保养排期表"})]})]}),e.jsxs(r,{className:"p-6 lg:col-span-2",children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-6 flex items-center gap-2",children:[e.jsx(B,{size:16})," 待处理任务流水线 (Pipeline)"]}),e.jsx("div",{className:"space-y-4",children:[...h,...b].filter(s=>s.health<60).slice(0,5).map(s=>e.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-800 rounded-3xl hover:bg-slate-50/50 transition-all flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl group-hover:scale-110 transition-transform",children:s.model?e.jsx(C,{size:24,className:"text-slate-400"}):e.jsx(M,{size:24,className:"text-slate-400"})}),s.health<40&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-slate-900 dark:text-slate-100",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs(x,{variant:"outline",size:"sm",className:"text-[10px] opacity-60",children:["最近保养: ",s.lastMaintenance]}),e.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:["ID: ",s.id]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-black text-amber-500 uppercase",children:"下期计划"}),e.jsx("div",{className:"text-sm font-black text-slate-700 dark:text-slate-200",children:s.nextMaintenance})]}),e.jsxs("div",{className:"w-16",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"健康度"}),e.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${s.health<40?"bg-red-500":"bg-amber-500"}`,style:{width:`${s.health}%`}})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"ghost",size:"sm",className:"p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(A,{size:18})}),e.jsx(i,{variant:"outline",size:"sm",className:"bg-white border-slate-200 text-amber-600 font-black h-9 text-xs",children:"执行维保"})]})]})]},s.id))})]}),e.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[e.jsxs(r,{className:"p-6",children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-6 flex items-center gap-2",children:[e.jsx(G,{size:16})," 备机与配件状态"]}),e.jsxs("div",{className:"space-y-4",children:[[{name:"测试机架备件",status:"充足",stock:12},{name:"CT 球管 (通用)",status:"低库存",stock:2},{name:"高压屏蔽线",status:"缺货",stock:0},{name:"精密电源模块",status:"充足",stock:8}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-transparent hover:border-slate-200 transition-all",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:s.name}),e.jsxs("div",{className:"text-[10px] text-slate-400",children:["当前剩余: ",s.stock," 套"]})]}),e.jsx(x,{variant:s.status==="充足"?"success":s.status==="低库存"?"warning":"danger",size:"sm",children:s.status})]},s.name)),e.jsx(i,{variant:"ghost",size:"sm",className:"w-full text-blue-600 font-black mt-2",children:"申请备件采购 →"})]})]}),e.jsxs(r,{className:"p-6 bg-emerald-600 text-white border-none shadow-xl",children:[e.jsxs("h4",{className:"font-black text-lg mb-4 flex items-center gap-2",children:[e.jsx(Y,{size:24}),"维保合同总控"]}),e.jsxs("p",{className:"text-xs text-emerald-100 leading-relaxed mb-6",children:["检测到 8 台 ",e.jsx("span",{className:"font-black underline italic",children:"uCT 系列"})," 设备本月即将保修到期，建议立即启动续签。"]}),e.jsxs("div",{className:"py-2 border-y border-white/20 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold py-1",children:[e.jsx("span",{children:"合同总值"}),e.jsx("span",{children:"¥ 1,240,000"})]}),e.jsxs("div",{className:"flex justify-between text-xs font-bold py-1 text-emerald-200",children:[e.jsx("span",{children:"生效中"}),e.jsx("span",{children:"14 份"})]})]}),e.jsx(i,{className:"w-full bg-white text-emerald-600 border-none font-black hover:bg-emerald-50 rounded-xl",children:"管理所有服务合同"})]})]})]})},"maintenance")]}),e.jsx(L,{children:d&&e.jsxs(e.Fragment,{children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(null),className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 block"}),e.jsxs(j.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-lg bg-white dark:bg-slate-900 z-[60] shadow-2xl overflow-y-auto p-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-100 text-blue-600 rounded-3xl",children:d.model?e.jsx(C,{size:32}):e.jsx(M,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black",children:d.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(x,{variant:d.status==="available"?"success":"primary",children:d.status}),e.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["ID: ",d.id]})]})]})]}),e.jsx("button",{onClick:()=>w(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(P,{})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"健康指数"}),e.jsxs("div",{className:`text-xl font-black ${J(d.health)} inline-block px-3 py-1 rounded-lg`,children:[Math.round(d.health)," / 100"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"本月运行时长"}),e.jsx("div",{className:"text-xl font-black",children:"168 小时"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(Q,{size:16})," 预定排程"]}),e.jsx("div",{className:"space-y-3",children:d.bookings.map(s=>e.jsxs("div",{className:"p-4 border border-slate-100 dark:border-slate-800 rounded-2xl flex justify-between items-center group hover:border-blue-200 transition-colors",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-slate-900 dark:text-slate-100",children:s.projectName}),e.jsxs("div",{className:"text-xs text-slate-400",children:[s.startDate," 至 ",s.endDate]})]}),e.jsx(x,{variant:"outline",className:"opacity-60 group-hover:opacity-100 transition-opacity",children:"已确认"})]},s.id))}),e.jsx(i,{variant:"outline",className:"w-full mt-4 border-dashed border-2",children:"新增临时排程"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(B,{size:16})," 变更与维护日志"]}),e.jsxs("div",{className:"relative pl-6 space-y-6 before:absolute before:left-0 before:top-2 before:bottom-2 before:w-px before:bg-slate-200",children:[e.jsxs("div",{className:"relative before:absolute before:-left-[25px] before:top-2 before:w-2 before:h-2 before:rounded-full before:bg-blue-500 ring-4 ring-blue-500/10",children:[e.jsx("div",{className:"text-xs font-bold",children:"2023-12-28"}),e.jsx("div",{className:"text-sm text-slate-600",children:"更換傳感器模組，由 Admin 執行。"})]}),e.jsxs("div",{className:"relative before:absolute before:-left-[25px] before:top-2 before:w-2 before:h-2 before:rounded-full before:bg-slate-300",children:[e.jsx("div",{className:"text-xs font-bold",children:"2023-11-15"}),e.jsx("div",{className:"text-sm text-slate-600",children:"例行性季度保養完成。"})]})]})]})]})]})]})})]})};export{he as default};
