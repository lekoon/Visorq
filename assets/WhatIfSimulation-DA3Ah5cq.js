import{e as b,r as d,j as e,b as k,T as v}from"./index-dM0Tvs4N.js";import{u as f}from"./usePMOStore-BiIJQHja.js";import{C as c}from"./Card-JAsBu9KK.js";import{B as o,a as m}from"./Badge-DIArKf6A.js";import{T as w}from"./trending-down-BeUyxNqf.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=b("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=b("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),T=()=>{const{simulations:l,createSimulation:h,getActiveSimulation:u}=f(),[r,n]=d.useState(""),[a,p]=d.useState("delay_simulation"),[i,x]=d.useState(!1),t=u(),g=()=>{x(!0),setTimeout(()=>{const s=Math.floor(Math.random()*60)+10,N=Math.floor(Math.random()*5),y=Math.floor(Math.random()*5e5)+1e5;h({name:r||`æ¨¡æ‹Ÿ ${new Date().toLocaleString()}`,description:`åœºæ™¯ï¼š${a}`,scenarioType:a,changes:[],impactAnalysis:{affectedProjects:[],totalDelayDays:s,resourceConflicts:N,budgetImpact:y},createdBy:"current-user",createdByName:"å½“å‰ç”¨æˆ·",isActive:!0}),x(!1)},2e3)},j=()=>{n("")};return e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"What-If æ²™ç›˜æ¨æ¼”"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"æ¨¡æ‹Ÿä¸åŒåœºæ™¯å¯¹é¡¹ç›®ç»„åˆçš„å½±å“ï¼Œè¾…åŠ©å†³ç­–"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"åœºæ™¯é…ç½®"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"æ¨¡æ‹Ÿåç§°"}),e.jsx("input",{type:"text",value:r,onChange:s=>n(s.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-800",placeholder:"ä¾‹å¦‚ï¼šQ1 æ–°é¡¹ç›®æ’å…¥å½±å“åˆ†æ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"åœºæ™¯ç±»å‹"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"new_project",label:"æ’å…¥æ–°é¡¹ç›®",icon:"â•"},{value:"delay_simulation",label:"é¡¹ç›®å»¶æœŸ",icon:"â±ï¸"},{value:"resource_change",label:"èµ„æºè°ƒé…",icon:"ğŸ‘¥"},{value:"priority_change",label:"ä¼˜å…ˆçº§è°ƒæ•´",icon:"ğŸ¯"}].map(s=>e.jsxs("button",{onClick:()=>p(s.value),className:`p-4 rounded-lg border-2 transition-all ${a===s.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:s.label})]},s.value))})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"åœºæ™¯è¯´æ˜"}),e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a==="new_project"&&"æ¨¡æ‹Ÿåœ¨å½“å‰é¡¹ç›®ç»„åˆä¸­æ’å…¥ä¸€ä¸ªæ–°çš„é«˜ä¼˜å…ˆçº§é¡¹ç›®ï¼Œåˆ†æå¯¹ç°æœ‰é¡¹ç›®çš„èµ„æºå’Œè¿›åº¦å½±å“ã€‚",a==="delay_simulation"&&"æ¨¡æ‹ŸæŸä¸ªå…³é”®é¡¹ç›®å»¶æœŸï¼Œåˆ†æå¯¹ä¾èµ–é¡¹ç›®å’Œæ•´ä½“äº¤ä»˜çš„å½±å“ã€‚",a==="resource_change"&&"æ¨¡æ‹Ÿä»ä¸€ä¸ªé¡¹ç›®æŠ½è°ƒèµ„æºæ”¯æ´å¦ä¸€ä¸ªé¡¹ç›®ï¼Œåˆ†æåŒæ–¹çš„å½±å“ã€‚",a==="priority_change"&&"æ¨¡æ‹Ÿè°ƒæ•´é¡¹ç›®ä¼˜å…ˆçº§ï¼Œåˆ†æèµ„æºé‡æ–°åˆ†é…çš„å½±å“ã€‚"]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(o,{onClick:g,disabled:i||!r,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"è®¡ç®—ä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"è¿è¡Œæ¨¡æ‹Ÿ"]})}),e.jsxs(o,{onClick:j,variant:"secondary",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"é‡ç½®"]})]})]}),(t==null?void 0:t.impactAnalysis)&&e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"å½±å“åˆ†æç»“æœ"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"æ€»å»¶æœŸå¤©æ•°"})]}),e.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:t.impactAnalysis.totalDelayDays}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"å¤©"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(k,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"èµ„æºå†²çª"})]}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:t.impactAnalysis.resourceConflicts}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ä¸ª"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"é¢„ç®—å½±å“"})]}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:["Â¥",(t.impactAnalysis.budgetImpact/1e4).toFixed(1),"ä¸‡"]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"é¢„è®¡å¢åŠ æˆæœ¬"})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"ğŸ’¡ å†³ç­–å»ºè®®"}),e.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-200 space-y-1",children:[e.jsx("li",{children:"â€¢ è€ƒè™‘å»¶åä¼˜å…ˆçº§è¾ƒä½çš„é¡¹ç›®ä»¥é‡Šæ”¾èµ„æº"}),e.jsx("li",{children:"â€¢ å¢åŠ é¢„ç®—ä»¥åŠ é€Ÿå…³é”®è·¯å¾„ä¸Šçš„é¡¹ç›®"}),e.jsx("li",{children:"â€¢ è¯„ä¼°æ˜¯å¦éœ€è¦å¤–éƒ¨èµ„æºæ”¯æŒ"})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:["å†å²æ¨¡æ‹Ÿ (",l.length,")"]}),e.jsxs("div",{className:"space-y-3",children:[l.slice(0,10).map(s=>e.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${s.isActive?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700"}`,children:[e.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm mb-1",children:s.name}),e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:new Date(s.createdAt).toLocaleString()}),s.impactAnalysis&&e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs(m,{variant:"danger",size:"sm",children:["å»¶æœŸ ",s.impactAnalysis.totalDelayDays,"å¤©"]}),e.jsxs(m,{variant:"warning",size:"sm",children:["å†²çª ",s.impactAnalysis.resourceConflicts]})]})]},s.id)),l.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"æš‚æ— å†å²æ¨¡æ‹Ÿ"})]})]})})]})]})})};export{T as default};
