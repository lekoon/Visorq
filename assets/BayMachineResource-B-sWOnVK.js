import{e as j,r as n,j as e,L as V,c as g,Q as O,a0 as k,T as X}from"./index-DAS6F4tg.js";import{B as c,C as d,a as w}from"./Badge-ewgEMzNn.js";import{A as D}from"./activity-DnneyZVV.js";import{Z as B}from"./zap-BeXAhA7_.js";import{C as _}from"./circle-check-3ag8RqLq.js";import{A as L}from"./index-Bc10l7i3.js";import{m as p}from"./proxy-BpulTomk.js";import{L as Z,H as U}from"./list-Bk8kzyby.js";import{C as q}from"./calendar-CNdvkVws.js";import{f as o}from"./format-CH35f9ZQ.js";import{a as u}from"./addDays-fiDGUADe.js";import{a as P}from"./addMonths-Br-NVGQX.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=j("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=j("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=j("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=j("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=j("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=j("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),G=a=>a>80?"text-emerald-500 bg-emerald-500/10":a>50?"text-amber-500 bg-amber-500/10":"text-red-500 bg-red-500/10",Y=a=>{let t=0;a.health<30&&(t+=40),a.status==="maintenance"&&(t+=20),a.conflicts&&a.conflicts.length>0&&(t+=40);const f=new Date(a.nextMaintenance),N=new Date;return Math.ceil((f.getTime()-N.getTime())/(1e3*60*60*24))<7&&(t+=30),Math.min(t,100)},T=["RX-2000","RX-2100","TX-500","Alpha-9","Beta-X","Giga-V","Nano-S","Mega-T","Z-Core","Prime-X"],H=a=>{const t=new Date;return[{id:`b1-${a}`,projectId:"p1",projectName:"Mars Explorer",startDate:o(u(t,2),"yyyy-MM-dd"),endDate:o(u(t,5),"yyyy-MM-dd"),reservedBy:"user-1"},{id:`b2-${a}`,projectId:"p2",projectName:"Quantum Link",startDate:o(u(t,4),"yyyy-MM-dd"),endDate:o(u(t,8),"yyyy-MM-dd"),reservedBy:"user-2"}]},x=Array.from({length:16}).map((a,t)=>({id:`bay-${t+1}`,name:`Bay ${String(t+1).padStart(2,"0")}`,size:["S","M","L"][t%3],status:["available","occupied","maintenance"][t%10===0?2:t%3===0?0:1],currentProjectId:t%3===0?void 0:`proj-${t%4+1}`,currentProjectName:t%3===0?void 0:["Project Apollo","Deep Space","Lunar Base","Solar Array"][t%4],health:40+Math.random()*60,lastMaintenance:o(P(new Date,-2),"yyyy-MM-dd"),nextMaintenance:o(u(new Date,t%5===0?3:15),"yyyy-MM-dd"),bookings:H(`bay-${t}`),conflicts:t%7===0?[`b1-bay-${t}`,`b2-bay-${t}`]:[]})),m=Array.from({length:30}).map((a,t)=>({id:`mach-${t+1}`,name:`${T[t%10]} #${String(Math.floor(t/10)+1)}`,model:T[t%10],health:20+Math.random()*80,status:["available","occupied","maintenance"][t%15===0?2:t%4===0?0:1],currentProjectId:t%4===0?void 0:`proj-${t%4+1}`,currentProjectName:t%4===0?void 0:["Tesla Bot","Neural Link","Starship","Optimus"][t%4],lastMaintenance:o(P(new Date,-1),"yyyy-MM-dd"),nextMaintenance:o(u(new Date,t%8===0?2:25),"yyyy-MM-dd"),bookings:H(`mach-${t}`),conflicts:t%10===0?[`b1-mach-${t}`,`b2-mach-${t}`]:[]})),oe=()=>{const[a,t]=n.useState("monitor"),[f,N]=n.useState("visual"),[i,$]=n.useState("bay"),[y,R]=n.useState(""),[r,v]=n.useState(null),S=n.useMemo(()=>(i==="bay"?x:m).filter(l=>{var h;return l.name.toLowerCase().includes(y.toLowerCase())||(((h=l.currentProjectName)==null?void 0:h.toLowerCase())||"").includes(y.toLowerCase())}),[i,y]),A=n.useMemo(()=>[...x,...m].map(l=>({...l,riskScore:Y(l)})).filter(l=>l.riskScore>50).sort((l,h)=>h.riskScore-l.riskScore),[]),z=n.useMemo(()=>{const s=x.length+m.length,l=[...x,...m].filter(b=>b.health<30).length,h=[...x,...m].filter(b=>b.status==="maintenance").length,E=[...x,...m].filter(b=>b.conflicts&&b.conflicts.length>0).length;return{total:s,lowHealth:l,maintenanceCount:h,conflictCount:E}},[]);return e.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(D,{className:"text-blue-600",size:32}),"物理资源智能管控中心"]}),e.jsx("p",{className:"text-slate-500 mt-1",children:"AI 驱动的 Bay 位分配、机器健康监控与冲突预警系统"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-xl flex w-full lg:w-auto overflow-x-auto shrink-0",children:[e.jsxs("button",{onClick:()=>t("monitor"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${a==="monitor"?"bg-white dark:bg-slate-700 shadow-sm text-blue-600":"text-slate-500"}`,children:[e.jsx(V,{size:18})," 实时监控"]}),e.jsxs("button",{onClick:()=>t("risk"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${a==="risk"?"bg-white dark:bg-slate-700 shadow-sm text-red-600 font-black":"text-slate-500"}`,children:[e.jsx(g,{size:18})," 风险预警",z.conflictCount>0&&e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),e.jsxs("button",{onClick:()=>t("maintenance"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${a==="maintenance"?"bg-white dark:bg-slate-700 shadow-sm text-amber-600":"text-slate-500"}`,children:[e.jsx(C,{size:18})," 维护保养"]})]}),e.jsx(c,{variant:"primary",icon:B,className:"hidden sm:flex",children:"一键智能排期"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(d,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"资源健康度 (平均)"}),e.jsx(D,{size:18,className:"text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold",children:"84%"}),e.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:"84%"}})})]}),e.jsxs(d,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"占用冲突"}),e.jsx(g,{size:18,className:"text-red-500"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[z.conflictCount," 项"]}),e.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium italic",children:"涉及 4 个重点项目"})]}),e.jsxs(d,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-amber-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"近期维护"}),e.jsx(C,{size:18,className:"text-amber-500"})]}),e.jsxs("div",{className:"text-2xl font-bold font-mono",children:[z.maintenanceCount," 台"]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"未来 7 天内需保养"})]}),e.jsxs(d,{className:"p-4 bg-white dark:bg-slate-800 border-l-4 border-emerald-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 text-emerald-600",children:[e.jsx("span",{className:"text-sm font-medium",children:"推荐可用"}),e.jsx(_,{size:18})]}),e.jsx("div",{className:"text-2xl font-bold",children:"12 份建议"}),e.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:"系统已找到最优替换方案"})]})]}),e.jsxs(L,{mode:"wait",children:[a==="monitor"&&e.jsx(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>$("bay"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${i==="bay"?"bg-white dark:bg-slate-700 shadow-sm text-blue-600":"text-slate-500"}`,children:"Bay 实验室"}),e.jsx("button",{onClick:()=>$("machine"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${i==="machine"?"bg-white dark:bg-slate-700 shadow-sm text-blue-600":"text-slate-500"}`,children:"高价值机器"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"搜索资源或项目...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-blue-500 outline-none",value:y,onChange:s=>R(s.target.value)})]}),e.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden",children:[e.jsx("button",{onClick:()=>N("visual"),className:`p-2 ${f==="visual"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-500"}`,children:e.jsx(Q,{size:18})}),e.jsx("button",{onClick:()=>N("list"),className:`p-2 ${f==="list"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-slate-500"}`,children:e.jsx(Z,{size:18})})]})]})]}),f==="visual"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-4",children:S.map(s=>e.jsxs(p.div,{layout:!0,onClick:()=>v(s),className:`relative p-4 rounded-2xl border transition-all cursor-pointer group ${s.status==="occupied"?"bg-blue-50/30 border-blue-100 dark:bg-blue-900/10 dark:border-blue-900/50":s.status==="maintenance"?"bg-amber-50/30 border-amber-100 dark:bg-amber-900/10 dark:border-amber-900/50":"bg-slate-50/30 border-slate-100 dark:bg-slate-800/50 dark:border-slate-700"} hover:shadow-lg hover:scale-[1.02]`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:`p-2 rounded-xl ${s.status==="available"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:i==="bay"?e.jsx(k,{size:18}):e.jsx(M,{size:18})}),e.jsxs("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${s.health<40?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:[Math.round(s.health),"% 健康"]})]}),e.jsx("div",{className:"text-sm font-extrabold truncate",children:s.name}),e.jsx("div",{className:"text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-tighter",children:i==="bay"?`SIZE: ${s.size}`:`MOD: ${s.model}`}),e.jsx("div",{className:"mt-4",children:s.currentProjectName?e.jsxs("div",{className:"p-2 rounded-lg bg-white/60 dark:bg-slate-800/60 border border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:"使用中"}),e.jsx("div",{className:"text-[11px] font-bold truncate text-blue-600",children:s.currentProjectName})]}):e.jsx("div",{className:`text-[10px] font-bold py-1 px-2 rounded-full w-fit ${s.status==="maintenance"?"bg-amber-100 text-amber-600":"bg-emerald-100 text-emerald-600"}`,children:s.status==="maintenance"?"维护中":"可预约"})}),s.conflicts&&s.conflicts.length>0&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg ring-2 ring-white animate-bounce",children:e.jsx(g,{size:12})})]},s.id))}):e.jsx("div",{className:"border border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-400 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"资源名称"}),e.jsx("th",{className:"px-6 py-4",children:"健康度"}),e.jsx("th",{className:"px-6 py-4",children:"状态"}),e.jsx("th",{className:"px-6 py-4",children:"归属/冲突"}),e.jsx("th",{className:"px-6 py-4",children:"下次维护"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:S.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50/20 dark:hover:bg-blue-900/5 transition-colors group cursor-pointer",onClick:()=>v(s),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg group-hover:text-blue-500",children:i==="bay"?e.jsx(k,{size:18}):e.jsx(M,{size:18})}),e.jsx("span",{className:"font-bold",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 w-16 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${s.health>70?"bg-emerald-500":s.health>40?"bg-amber-500":"bg-red-500"}`,style:{width:`${s.health}%`}})}),e.jsxs("span",{className:"text-xs font-mono",children:[Math.round(s.health),"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(w,{variant:s.status==="available"?"success":s.status==="occupied"?"primary":"warning",children:s.status==="available"?"可用":s.status==="occupied"?"占用":"维护"})}),e.jsx("td",{className:"px-6 py-4",children:s.conflicts&&s.conflicts.length>0?e.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 font-bold text-xs",children:[e.jsx(g,{size:14})," 预定冲突"]}):s.currentProjectName?e.jsx("span",{className:"text-sm font-medium",children:s.currentProjectName}):e.jsx("span",{className:"text-xs text-slate-300 italic",children:"空闲"})}),e.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500",children:s.nextMaintenance})]},s.id))})]})})]})},"monitor"),a==="risk"&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(d,{className:"p-6 lg:col-span-2",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-red-600",children:[e.jsx(g,{size:24}),"关键冲突与风险清单"]}),e.jsxs("div",{className:"space-y-4",children:[A.map(s=>{var l;return e.jsxs("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-2xl flex flex-wrap lg:flex-nowrap items-center gap-6",children:[e.jsxs("div",{className:"shrink-0 w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex flex-col items-center justify-center border-2 border-red-500 shadow-sm relative",children:[e.jsx("span",{className:"text-xs font-bold text-red-600 uppercase",children:"风险"}),e.jsx("span",{className:"text-lg font-black text-red-700",children:s.riskScore})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-black text-slate-900 dark:text-slate-100",children:s.name}),e.jsx(w,{variant:"outline",className:"text-[10px]",children:s.model||s.size})]}),e.jsxs("div",{className:"text-sm text-slate-500 flex flex-wrap gap-x-4",children:[e.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[e.jsx(C,{size:12})," 健康度 ",Math.round(s.health),"%"]}),e.jsxs("span",{className:"flex items-center gap-1 font-black text-red-500",children:[e.jsx(I,{size:12})," ",(l=s.conflicts)!=null&&l.length?"预定冲突待解":"维护周期逼近"]})]})]}),e.jsxs("div",{className:"flex gap-2 w-full lg:w-auto mt-4 lg:mt-0",children:[e.jsx(c,{variant:"outline",size:"sm",className:"flex-1 bg-white",children:"迁移建议"}),e.jsx(c,{variant:"primary",size:"sm",className:"flex-1 bg-red-600 border-none",children:"紧急协调"})]})]},s.id)}),A.length===0&&e.jsx("div",{className:"p-20 text-center text-slate-400 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200",children:"资源健康且无预定冲突，系统运行良好"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:"p-6 bg-gradient-to-br from-indigo-600 to-blue-700 text-white border-none shadow-xl",children:[e.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx(B,{size:20,className:"text-yellow-400 fill-current"}),"AI 智能协同引擎"]}),e.jsx("p",{className:"text-sm text-blue-100 mb-6 leading-relaxed",children:'检测到 3 项最优资源替换建议，可降低核心项目 "Mars" 14% 的延期风险。'}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white/10 rounded-xl border border-white/20 backdrop-blur-sm",children:[e.jsx("div",{className:"text-xs font-bold text-blue-200",children:"推荐方案 1"}),e.jsx("div",{className:"text-sm mt-1",children:"将 Project Apollo 迁移至 Bay 08"}),e.jsx("div",{className:"text-[10px] text-blue-300 mt-1 italic",children:"* 可由 AI 自动完成审批重排"})]}),e.jsx(c,{className:"w-full bg-white text-indigo-700 border-none font-black hover:bg-blue-50 mt-4",children:"查看所有建议库"})]})]}),e.jsxs(d,{className:"p-6",children:[e.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[e.jsx(X,{size:18,className:"text-slate-400"}),"资源热度趋势 (Hotspot)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-end gap-2 h-20",children:[40,60,90,85,45,30,20].map((s,l)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:`w-full rounded-t-md transition-all duration-500 ${s>80?"bg-red-400":"bg-blue-400"}`,style:{height:`${s}%`}}),e.jsxs("span",{className:"text-[8px] text-slate-400",children:["周",l+1]})]},l))}),e.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"下周三将进入 Bay 位高峰使用期 (负载预测 94%)"})]})]})]})]},"risk"),a==="maintenance"&&e.jsx(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:e.jsxs(d,{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-black italic uppercase text-slate-900 flex items-center gap-3",children:[e.jsx(F,{size:28,className:"text-amber-500"}),"维护与资产生命周期"]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"预防性维护计划与资产全生命周期追踪"})]}),e.jsx(c,{variant:"outline",icon:I,children:"保养排期表"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...x,...m].filter(s=>s.health<60).slice(0,6).map(s=>e.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-800 rounded-2xl hover:bg-slate-50/50 transition-all flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl",children:s.model?e.jsx(M,{size:20}):e.jsx(k,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm",children:s.name}),e.jsxs("div",{className:"text-[10px] text-slate-400",children:["最近保养: ",s.lastMaintenance]})]})]}),e.jsxs("div",{className:`text-sm font-black ${s.health<40?"text-red-500":"text-amber-500"}`,children:[Math.round(s.health),"%"]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"下期计划"}),e.jsx("span",{className:"text-xs font-black",children:s.nextMaintenance})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"ghost",size:"sm",className:"flex-1 text-[11px]",children:"查看详情"}),e.jsx(c,{variant:"primary",size:"sm",className:"flex-1 text-[11px] bg-amber-500 border-none text-white",children:"发起保修"})]})]},s.id))})]})},"maintenance")]}),e.jsx(L,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(null),className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 block"}),e.jsxs(p.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-lg bg-white dark:bg-slate-900 z-[60] shadow-2xl overflow-y-auto p-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-100 text-blue-600 rounded-3xl",children:r.model?e.jsx(M,{size:32}):e.jsx(k,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(w,{variant:r.status==="available"?"success":"primary",children:r.status}),e.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["ID: ",r.id]})]})]})]}),e.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(K,{})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"健康指数"}),e.jsxs("div",{className:`text-xl font-black ${G(r.health)} inline-block px-3 py-1 rounded-lg`,children:[Math.round(r.health)," / 100"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"本月运行时长"}),e.jsx("div",{className:"text-xl font-black",children:"168 小时"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(q,{size:16})," 预定排程"]}),e.jsx("div",{className:"space-y-3",children:r.bookings.map(s=>e.jsxs("div",{className:"p-4 border border-slate-100 dark:border-slate-800 rounded-2xl flex justify-between items-center group hover:border-blue-200 transition-colors",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-slate-900 dark:text-slate-100",children:s.projectName}),e.jsxs("div",{className:"text-xs text-slate-400",children:[s.startDate," 至 ",s.endDate]})]}),e.jsx(w,{variant:"outline",className:"opacity-60 group-hover:opacity-100 transition-opacity",children:"已确认"})]},s.id))}),e.jsx(c,{variant:"outline",className:"w-full mt-4 border-dashed border-2",children:"新增临时排程"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(U,{size:16})," 变更与维护日志"]}),e.jsxs("div",{className:"relative pl-6 space-y-6 before:absolute before:left-0 before:top-2 before:bottom-2 before:w-px before:bg-slate-200",children:[e.jsxs("div",{className:"relative before:absolute before:-left-[25px] before:top-2 before:w-2 before:h-2 before:rounded-full before:bg-blue-500 ring-4 ring-blue-500/10",children:[e.jsx("div",{className:"text-xs font-bold",children:"2023-12-28"}),e.jsx("div",{className:"text-sm text-slate-600",children:"更換傳感器模組，由 Admin 執行。"})]}),e.jsxs("div",{className:"relative before:absolute before:-left-[25px] before:top-2 before:w-2 before:h-2 before:rounded-full before:bg-slate-300",children:[e.jsx("div",{className:"text-xs font-bold",children:"2023-11-15"}),e.jsx("div",{className:"text-sm text-slate-600",children:"例行性季度保養完成。"})]})]})]})]})]})]})})]})};export{oe as default};
